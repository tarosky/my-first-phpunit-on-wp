{
  "name": "my-first-phpunit-on-wp",
  "version": "1.0.0",
  "description": "WordPressにPHPUnitを導入するための勉強用リポジトリです。",
  "main": "index.js",
  "scripts": {
    "start": "wp-env start",
    "start:xdebug": "wp-env start --xdebug",
    "stop": "wp-env stop",
    "env": "wp-env",
    "cli": "wp-env run cli wp",
    "cli:test": "wp-env run tests-cli wp",
    "test": "RESULT=${PWD##*/} && wp-env run tests-cli ./wp-content/plugins/$RESULT/vendor/bin/phpunit -c ./wp-content/plugins/$RESULT/phpunit.xml.dist -- --debug --verbose",
    "test:coverage": "npm run start:xdebug && sleep 5 && RESULT=${PWD##*/} && wp-env run tests-cli bash -c \"XDEBUG_MODE=coverage ./wp-content/plugins/$RESULT/vendor/bin/phpunit -c ./wp-content/plugins/$RESULT/phpunit.xml.dist\"",
    "coverage": "npm run start:xdebug && sleep 5 && RESULT=${PWD##*/} && wp-env run tests-cli bash -c \"XDEBUG_MODE=coverage ./wp-content/plugins/$RESULT/vendor/bin/phpunit -c ./wp-content/plugins/$RESULT/phpunit.xml.dist --coverage-html coverage\" && echo '\\n📊 カバレッジレポートが生成されました!' && echo '👉 ローカルファイルを確認: ./coverage/index.html' && echo '💡 ブラウザで開くには: open ./coverage/index.html' && open ./coverage/index.html 2>/dev/null || true",
    "coverage:text": "npm run start:xdebug && sleep 5 && RESULT=${PWD##*/} && wp-env run tests-cli bash -c \"XDEBUG_MODE=coverage ./wp-content/plugins/$RESULT/vendor/bin/phpunit -c ./wp-content/plugins/$RESULT/phpunit.xml.dist --coverage-text\"",
    "coverage:xml": "npm run start:xdebug && sleep 5 && RESULT=${PWD##*/} && wp-env run tests-cli bash -c \"XDEBUG_MODE=coverage ./wp-content/plugins/$RESULT/vendor/bin/phpunit -c ./wp-content/plugins/$RESULT/phpunit.xml.dist --coverage-clover coverage/clover.xml\""
  },
  "author": "",
  "license": "GPL-3.0-or-later",
  "devDependencies": {
    "@wordpress/env": "^10.28.0"
  }
}
